<!doctype html>
<html>
	<head>
		<meta charset="utf-8" /> 
		<title>
			MRI Rendering
		</title>
		<link rel="stylesheet" type="text/css" media="all" href="./style.css" /> 
	</head>
	<body>
		<div id="loading">
			<span id="loadingText">Loading...</span>
			<div id="loadingContainer">
				<div id="loadingBar"></div>
			</div>
		</div>
		<div id="controls">
			<h1>MRI Rendering</h1>
			<hr />
			<img src="water.png" style="cursor: pointer;" onclick="load(water);" />
			<img src="vessels.png" style="cursor: pointer;" onclick="load(vessels);" />
			Drag to move<br />
			Right mouse drag to rotate<br />
			Scroll to move in / out<br />
			Shift+Scroll to zoom<br />
			<input type="checkbox" checked id="autorotate" onclick="autorotate = this.checked" /> <label for="autorotate">Auto-Rotate</label><br />
			<h2>Color mappings</h2>
			<image onclick="renderer.changeTransferImage(this)" src="colorMappings/rainbow.png" class="colorImage"/><br />
			<image onclick="renderer.changeTransferImage(this)" src="colorMappings/smallrainbows.png" class="colorImage"/><br />
			<image onclick="renderer.changeTransferImage(this)" src="colorMappings/colors.png" class="colorImage"/><br />
			<image onclick="renderer.changeTransferImage(this)" src="colorMappings/blackwhite.png" class="colorImage"/><br />
			<image onclick="renderer.changeTransferImage(this)" src="colorMappings/white.png" class="colorImage"/><br />
			<image onclick="renderer.changeTransferImage(this)" src="colorMappings/blue.png" class="colorImage"/><br />
			<image onclick="renderer.changeTransferImage(this)" src="colorMappings/extreme.png" class="colorImage"/><br />
			<image onclick="renderer.changeTransferImage(this)" src="colorMappings/incandescent.png" class="colorImage"/><br />
			<label class="uploadLabel" for="uploadColor">
				Upload (256x1 px)
				<input id="uploadColor" type="file" accept="image/*" value="Upload..." onchange="changeTransferImage(this.files)">
			</label>
			<h2>Background</h2>
			<div class="setbg" style="background-color: #000000" onclick="setBackground(this);"></div>
			<div class="setbg" style="background-color: #222222" onclick="setBackground(this);"></div>
			<div class="setbg" style="background-color: #444444" onclick="setBackground(this);"></div>
			<div class="setbg" style="background-color: #666666" onclick="setBackground(this);"></div>
			<div class="setbg" style="background-color: #888888" onclick="setBackground(this);"></div>
			<div class="setbg" style="background-color: #AAAAAA" onclick="setBackground(this);"></div>
			<div class="setbg" style="background-color: #CCCCCC" onclick="setBackground(this);"></div>
			<div class="setbg" style="background-color: #FFFFFF" onclick="setBackground(this);"></div>
			<h2>Region of interest</h2>
			<div id="roiContainer">
				<span>X: </span>
				<input type="number" id="roiXMin" value="0" min="0" max="100" />% to
				<input type="number" id="roiXMax" value="100" min="0" max="100" />%<br />
				<span>Y: </span>
				<input type="number" id="roiYMin" value="50" min="0" max="100" />% to
				<input type="number" id="roiYMax" value="100" min="0" max="100" />%<br />
				<span>Z: </span>
				<input type="number" id="roiZMin" value="0" min="0" max="100" />% to
				<input type="number" id="roiZMax" value="100" min="0" max="100" />%<br />
			</div>
			<button style="width:60px; margin: 4px 0px 10px 140px;" onclick="updateRoi()">Update</button><br />
			<hr />
			<span id="points">Loading...</span><br />
			<span id="fps"></span><br />
			<span style="float: right;">By <a href="http://rolandrytz.ch">Roland Rytz</a></span>
		</div>
		<canvas oncontextmenu="return false;" id="renderCanvas" width="600" height="600">
			
		</canvas>
		<div id="debug"></div>
	</body>
	<script type="text/javascript" src="./brainRender.js"></script>
	<script type="text/javascript" src="./brainPrepare.js"></script>
</html>













